<div class="container">
    <form [formGroup]="registerFormCustom" (ngSubmit)="onSubmit()" class="form-container">


        <div class="form-group">
            <label for="titleSubject">Title Subject :</label>
            <mat-form-field appearance="fill">
                <mat-label>Enter Title subject</mat-label>
                <mat-select [(value)]="selectedTutorial" (selectionChange)="onSelect($event.value)" id="titleSubject">
                    <mat-option *ngFor="let tutorial of TEST" [value]="tutorial">
                        {{ tutorial.subjectName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>






        <!-- 
         <div formGroupName="schedule">
    <input formControlName="title" placeholder="Schedule Title">
  </div> -->

        <div class="form-group">
            <label for="day" class="form-label">Day:</label>
            <select formControlName="day" class="form-control">
                <option *ngFor="let day of daysOfWeek" [value]="day">{{ day }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="debutHour" class="form-label">Start Hour:</label>
            <select formControlName="debutHour" class="form-control">
                <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="endHour" class="form-label">end Hour:</label>
            <select formControlName="endHour" class="form-control">
                <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Add Session</button>
    </form>

    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th>Day</th>
                    <th *ngFor="let hour of hours">{{ hour }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let day of daysOfWeek">
                    <td>{{ day }}</td>
                    <td *ngFor="let hour of hours">

                        <!-- Affichage de la matière pour cette heure -->
                        {{ getSubjectForTime(day, hour)?.name}}

                        <button *ngIf="getSubjectForTime(day, hour)" class="delete-button"
                            (click)="onDeleteSession(getSubjectForTime(day, hour).idSession, day, hour)">✖</button>
                        <button *ngIf="getSubjectForTime(day, hour)" class="modify-button"
                            (click)="onModifySession(getSubjectForTime(day, hour).idSession, day, hour)">✎</button>



                        <style>
                            .delete-button {
                                color: red;
                                /* Couleur du texte et du symbole */
                                background: transparent;
                                /* Fond transparent */
                                border: none;
                                /* Pas de bordure */
                                cursor: pointer;
                                /* Change le curseur pour indiquer qu'il s'agit d'un bouton */
                            }

                            .modify-button {
                                color: blue;
                                /* Couleur différente pour le distinguer du bouton de suppression */
                                background: transparent;
                                /* Fond transparent */
                                border: none;
                                /* Pas de bordure */
                                cursor: pointer;
                                /* Change le curseur pour indiquer qu'il s'agit d'un bouton */
                            }
                        </style>





                    </td>
                </tr>
            </tbody>
        </table>
    </div>




</div>